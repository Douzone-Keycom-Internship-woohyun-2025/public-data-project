# TechLens 요구사항정의서 (V1.0)

### 1. 개요
| 항목 | 내용 |
| :--- | :--- |
| **프로젝트명** | TechLens (테크렌즈) |
| **버전** | 1.0 (수정) |
| **작성일자** | 2025-11-03 |
| **작성자** | 심우현 (KNU / Kicom Internship) |
| **DBMS** | MariaDB 10.11 이상 |
| **Frontend** | React + TypeScript + Zustand + TailwindCSS + Chart.js |
| **Backend** | Node.js (Express) + Sequelize ORM |
| **배포 환경** | Frontend(Vercel) / Backend(Render) |
| **API 연동** | KIPRIS Open API (getAdvancedSearch 활용) |
| **문서 목적** | 본 문서는 TechLens 시스템의 요구사항을 명확히 정의하고, 설계 및 구현의 기준을 제공하기 위함입니다. |

---

### 2. 시스템 개요
TechLens는 특허청 KIPRIS Open API 데이터를 활용하여 경쟁사의 연구개발(R&D) 동향을 자동 분석 및 시각화하는 웹 기반 대시보드 서비스입니다.  
본 서비스는 중소·중견기업이 복잡한 특허 데이터를 쉽게 해석하고, 데이터 기반의 전략적 의사결정을 수행할 수 있도록 지원하는 것을 목표로 합니다.

---

### 3. 주요 기능 요약
| 구분 | 기능명 | 설명 |
| :--- | :--- | :--- |
| **핵심 분석 기능 (3)** | IPC 기술 집중도 분석 | 경쟁사의 특허 IPC 분포를 분석하여 기술 집중 영역을 시각화합니다. |
| | R&D 활동 추이 분석 | 출원일 기준으로 기간별(월/분기) 특허 출원 추세를 시각화합니다. |
| | R&D 결과 현황 분석 | 등록·거절·공개 비율을 집계하여 R&D 성과를 파악합니다. |
| **관리 기능 (2)** | 분석 프리셋 관리 (CRUD) | 자주 사용하는 검색조건(회사명+기간)을 저장, 수정, 삭제할 수 있습니다. |
| | 관심특허 관리 (CRD) | 즐겨찾기한 중요 특허를 관리 및 조회할 수 있습니다. |
| **보조 기능 (2)** | IPC 사전(도움말) 제공 | IPC Subclass별 기술명 조회 및 설명을 제공합니다. |
| | 로그인/회원관리 | 사용자 계정 생성, 인증, 세션 유지(JWT 기반)를 지원합니다. |

---

### 4. 시스템 구조
| 계층 | 구성요소 | 역할 |
| :--- | :--- | :--- |
| **Frontend** | React SPA, TailwindCSS, Chart.js | 사용자 UI 및 데이터 시각화 처리 |
| **Backend** | Express.js + Sequelize ORM | API 처리, 분석 로직, 데이터 관리 |
| **Database** | MariaDB 10.11 이상 | 사용자, 프리셋, 특허, IPC 데이터 저장 |
| **External API** | KIPRIS Open API | 공공데이터 수집 (특허 메타데이터) |
| **Deployment** | Vercel / Render | 프론트·백엔드 분리형 배포 환경 |
| **Logging** | morgan + winston | 요청/응답 로그 및 시스템 로그 관리 |

---

### 5. 주요 요구사항 정의

#### 5.1 기능 요구사항 (Functional Requirements)

| ID | 항목 | 요구사항 내용 |
| :-- | :-- | :-- |
| **FR-01** | 사용자 인증 | 사용자는 이메일과 비밀번호를 통해 로그인 및 회원가입을 할 수 있어야 합니다. |
| **FR-02** | 세션 유지 | 로그인한 사용자는 JWT 기반 세션으로 인증 상태를 유지해야 합니다. |
| **FR-03** | 프리셋 생성 | 사용자는 경쟁사명, 검색기간(시작일~종료일), 설명을 입력하여 분석 프리셋을 생성할 수 있어야 합니다. |
| **FR-04** | 프리셋 조회 | 사용자는 등록한 프리셋 목록을 조회하고, 선택 시 해당 조건으로 분석 결과를 다시 불러올 수 있어야 합니다. |
| **FR-05** | 프리셋 수정 및 삭제 | 사용자는 저장된 프리셋의 이름, 설명 등을 수정하거나 삭제할 수 있어야 합니다. |
| **FR-06** | 관심특허 등록 | 사용자는 특허 검색 결과에서 원하는 특허를 즐겨찾기(관심특허)로 등록할 수 있어야 합니다. |
| **FR-07** | 관심특허 관리 | 사용자는 등록한 관심특허 목록을 조회하고, 필요 시 삭제할 수 있어야 합니다. |
| **FR-08** | IPC 분석 | 백엔드는 KIPRIS API를 통해 수집한 특허 데이터의 IPC 코드를 분석하여 기술 집중도 통계를 산출해야 합니다. |
| **FR-09** | R&D 추세 분석 | 백엔드는 출원일(applicationDate)을 기준으로 월별 또는 분기별 출원 건수를 집계해야 합니다. |
| **FR-10** | R&D 결과 분석 | 백엔드는 특허의 등록상태(registerStatus)를 집계하여 등록·거절·공개 비율을 시각화할 수 있도록 반환해야 합니다. |
| **FR-11** | 데이터 시각화 | 프론트엔드는 분석 결과를 파이차트, 도넛차트, 선그래프로 표현해야 합니다. |
| **FR-12** | IPC 사전(도움말) | 사용자는 IPC 코드별 한글 기술명을 조회할 수 있어야 하며, 백엔드는 사전 데이터를 제공해야 합니다. |
| **FR-13** | 로그 기록 | 모든 API 요청 및 응답은 로그 파일에 기록되어야 합니다. (요청 URL, 응답코드, 처리시간 포함) |
| **FR-14** | 오류 처리 | 백엔드는 KIPRIS API 실패, DB 연결 오류, 인증 오류 발생 시 표준화된 에러 메시지를 반환해야 합니다. |

---

#### 5.2 비기능 요구사항 (Non-Functional Requirements)

| ID | 항목 | 요구사항 내용 |
| :-- | :-- | :-- |
| **NFR-01** | 보안성 | 사용자 비밀번호는 해시(SHA-256 이상)로 저장되어야 하며, JWT 토큰은 만료시간을 가져야 합니다. |
| **NFR-02** | 성능 | API 응답속도는 평균 3초 이내를 유지해야 하며, KIPRIS API 요청 시 페이징 로직을 통해 효율성을 보장해야 합니다. |
| **NFR-03** | 가용성 | 서비스는 24시간 운영을 기본으로 하며, Render 플랫폼의 가용성을 활용해야 합니다. |
| **NFR-04** | 확장성 | IPC Subclass 매핑 테이블과 분석 로직은 새로운 기술 분야 추가 시 구조 수정 없이 확장 가능해야 합니다. |
| **NFR-05** | 유지보수성 | Sequelize ORM을 사용하여 DB 스키마 변경 시 코드 수정 최소화를 목표로 해야 합니다. |
| **NFR-06** | 로그 관리 | morgan + winston 기반으로 요청/응답 로그를 자동 저장하며, 파일 회전(log rotation) 기능을 지원해야 합니다. |
| **NFR-07** | CORS 정책 | 프론트엔드(Vercel) 도메인만 허용하도록 origin을 명시적으로 설정해야 합니다. |
| **NFR-08** | 데이터 무결성 | 외래키 제약조건과 복합 UNIQUE 키를 통해 중복 데이터 입력을 방지해야 합니다. |
| **NFR-09** | 호환성 | MariaDB 10.11 이상, Node.js 20.x 이상 환경에서 정상 동작해야 합니다. |

---

### 6. 데이터 흐름 요약

<img width="2132" height="2418" alt="Untitled diagram-2025-11-03-110635" src="https://github.com/user-attachments/assets/ee949ff5-f0a9-4e20-b46c-deca299e45be" />


---

### 7. 시스템 아키텍처 다이어그램

<img width="621" height="600" alt="제목 없는 다이어그램 drawio (2)" src="https://github.com/user-attachments/assets/efd15038-480f-4ecf-8b8e-b55db8131362" />

---

### 8. 제약사항 및 고려사항
- KIPRIS API는 **XML 포맷**만 제공되므로, 백엔드에서 **XML → JSON 변환 로직**이 필요합니다.  
- API 호출 제한(초당 5회)으로 인해 백엔드 페이징 호출 시 **지연(Delay)** 또는 **비동기 큐 처리**가 필요합니다.  
- 일부 IPC코드의 **한글명 매핑 누락**이 발생할 수 있습니다.  
- 데이터 캐싱은 **임시 메모리 수준까지만 허용**하며 Redis는 사용하지 않습니다.  
- KIPRIS 데이터는 공공저작물이지만 **상업적 재배포는 금지**됩니다.  

---

### 9. 향후 확장 계획
| 항목 | 설명 |
| :--- | :--- |
| **경쟁사 비교 기능** | 두 기업의 IPC 분포를 비교 분석하는 기능 |
| **국가별 트렌드 분석** | 출원국가별 기술 비중을 시각화하는 기능 |
| **AI 기반 IPC 자동 분류** | 신규 특허의 IPC 코드를 예측하는 AI 모델 적용 |
| **프리셋 공유 기능** | 협업용 프리셋 공유 시스템 도입 |

---

📄 **Version:** 1.0 (수정)  
📅 **Date:** 2025-11-03  
👤 **Author:** 심우현 (KNU / Kicom Internship)

---

© 2025 TechLens Project. All rights reserved.  
본 문서의 내용은 Kicom × KNU 인턴십 프로그램의 일부로 작성되었으며,  
무단 복제·배포를 금합니다.
